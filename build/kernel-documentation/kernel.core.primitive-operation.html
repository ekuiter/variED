<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>kernel.core.primitive-operation documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Kernel</span> <span class="project-version">SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>kernel</span></div></div></li><li class="depth-2 branch"><a href="kernel.api.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>api</span></div></a></li><li class="depth-2"><a href="kernel.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-3 branch"><a href="kernel.core.causal-dag.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>causal-dag</span></div></a></li><li class="depth-3 branch"><a href="kernel.core.compound-operation.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>compound-operation</span></div></a></li><li class="depth-3 branch"><a href="kernel.core.conflict-cache.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>conflict-cache</span></div></a></li><li class="depth-3 branch"><a href="kernel.core.conflict-relation.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>conflict-relation</span></div></a></li><li class="depth-3 branch"><a href="kernel.core.conflict-resolution.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>conflict-resolution</span></div></a></li><li class="depth-3 branch"><a href="kernel.core.feature-model.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>feature-model</span></div></a></li><li class="depth-3 branch"><a href="kernel.core.garbage-collector.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>garbage-collector</span></div></a></li><li class="depth-3 branch"><a href="kernel.core.history-buffer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>history-buffer</span></div></a></li><li class="depth-3 branch"><a href="kernel.core.message.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>message</span></div></a></li><li class="depth-3 branch"><a href="kernel.core.movic.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>movic</span></div></a></li><li class="depth-3 branch current"><a href="kernel.core.primitive-operation.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>primitive-operation</span></div></a></li><li class="depth-3 branch"><a href="kernel.core.topological-sort.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>topological-sort</span></div></a></li><li class="depth-3"><a href="kernel.core.vector-clock.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>vector-clock</span></div></a></li><li class="depth-2 branch"><a href="kernel.helpers.html"><div class="inner"><span class="tree" style="top: -424px;"><span class="top" style="height: 433px;"></span><span class="bottom"></span></span><span>helpers</span></div></a></li><li class="depth-2 branch"><a href="kernel.i18n.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>i18n</span></div></a></li><li class="depth-2"><a href="kernel.shell.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>shell</span></div></a></li><li class="depth-3 branch"><a href="kernel.shell.client.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>client</span></div></a></li><li class="depth-3 branch"><a href="kernel.shell.context.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>context</span></div></a></li><li class="depth-3 branch"><a href="kernel.shell.server.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>server</span></div></a></li><li class="depth-3"><a href="kernel.shell.site.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>site</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="kernel.core.primitive-operation.html#var-_apply"><div class="inner"><span>_apply</span></div></a></li><li class="depth-1"><a href="kernel.core.primitive-operation.html#var-assert-no-child-added"><div class="inner"><span>assert-no-child-added</span></div></a></li><li class="depth-1"><a href="kernel.core.primitive-operation.html#var-create-constraint"><div class="inner"><span>create-constraint</span></div></a></li><li class="depth-1"><a href="kernel.core.primitive-operation.html#var-create-feature"><div class="inner"><span>create-feature</span></div></a></li><li class="depth-1"><a href="kernel.core.primitive-operation.html#var-description"><div class="inner"><span>description</span></div></a></li><li class="depth-1"><a href="kernel.core.primitive-operation.html#var-description.3F"><div class="inner"><span>description?</span></div></a></li><li class="depth-1"><a href="kernel.core.primitive-operation.html#var-get-attribute"><div class="inner"><span>get-attribute</span></div></a></li><li class="depth-1"><a href="kernel.core.primitive-operation.html#var-get-constraint-attribute"><div class="inner"><span>get-constraint-attribute</span></div></a></li><li class="depth-1"><a href="kernel.core.primitive-operation.html#var-get-feature-attribute"><div class="inner"><span>get-feature-attribute</span></div></a></li><li class="depth-1"><a href="kernel.core.primitive-operation.html#var-get-ID"><div class="inner"><span>get-ID</span></div></a></li><li class="depth-1"><a href="kernel.core.primitive-operation.html#var-get-key"><div class="inner"><span>get-key</span></div></a></li><li class="depth-1"><a href="kernel.core.primitive-operation.html#var-get-new-value"><div class="inner"><span>get-new-value</span></div></a></li><li class="depth-1"><a href="kernel.core.primitive-operation.html#var-get-old-value"><div class="inner"><span>get-old-value</span></div></a></li><li class="depth-1"><a href="kernel.core.primitive-operation.html#var-get-type"><div class="inner"><span>get-type</span></div></a></li><li class="depth-1"><a href="kernel.core.primitive-operation.html#var-get-value"><div class="inner"><span>get-value</span></div></a></li><li class="depth-1"><a href="kernel.core.primitive-operation.html#var-icon"><div class="inner"><span>icon</span></div></a></li><li class="depth-1"><a href="kernel.core.primitive-operation.html#var-icon.3F"><div class="inner"><span>icon?</span></div></a></li><li class="depth-1"><a href="kernel.core.primitive-operation.html#var-invert"><div class="inner"><span>invert</span></div></a></li><li class="depth-1"><a href="kernel.core.primitive-operation.html#var-inverted"><div class="inner"><span>inverted</span></div></a></li><li class="depth-1"><a href="kernel.core.primitive-operation.html#var-metadata"><div class="inner"><span>metadata</span></div></a></li><li class="depth-1"><a href="kernel.core.primitive-operation.html#var-nop"><div class="inner"><span>nop</span></div></a></li><li class="depth-1"><a href="kernel.core.primitive-operation.html#var-remove-nop"><div class="inner"><span>remove-nop</span></div></a></li><li class="depth-1"><a href="kernel.core.primitive-operation.html#var-update-constraint"><div class="inner"><span>update-constraint</span></div></a></li><li class="depth-1"><a href="kernel.core.primitive-operation.html#var-update-feature"><div class="inner"><span>update-feature</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">kernel.core.primitive-operation</h1><div class="doc"><div class="markdown"><p>Primitive operation, PO for short. Primitive operations create or update only one object in a feature model at a time. They are building blocks for more complex compound operations (<a href="kernel.core.compound-operation.html">kernel.core.compound-operation</a>).</p>
<p>Primitive operations are also used to detect conflicts for competing operations (<a href="kernel.core.conflict-relation.html">kernel.core.conflict-relation</a>).</p></div></div><div class="public anchor" id="var-_apply"><h3>_apply</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Applies a given primitive operation to a feature model. Utilizes the feature model implementation.</p></div></div><div class="src-link"><a href="https://github.com/ekuiter/variED/blob/0baab0028676199f7fa6a91debb1b6d35e21c6e5/kernel/src/kernel/core/primitive_operation.cljc#L210">view source</a></div></div><div class="public anchor" id="var-assert-no-child-added"><h3>assert-no-child-added</h3><div class="usage"><code>(assert-no-child-added ID)</code></div><div class="doc"><div class="markdown"><p>Asserts that no competing operations add children to the targeted feature. Required to ensure the preconditions of <a href="kernel.core.compound-operation.html#var-remove-feature">kernel.core.compound-operation/remove-feature</a>. This assertion operation has no actual execution effect on the feature model, it only affects the conflict detection.</p></div></div><div class="src-link"><a href="https://github.com/ekuiter/variED/blob/0baab0028676199f7fa6a91debb1b6d35e21c6e5/kernel/src/kernel/core/primitive_operation.cljc#L124">view source</a></div></div><div class="public anchor" id="var-create-constraint"><h3>create-constraint</h3><div class="usage"><code>(create-constraint)</code></div><div class="doc"><div class="markdown"><p>Creates a new constraint.</p></div></div><div class="src-link"><a href="https://github.com/ekuiter/variED/blob/0baab0028676199f7fa6a91debb1b6d35e21c6e5/kernel/src/kernel/core/primitive_operation.cljc#L103">view source</a></div></div><div class="public anchor" id="var-create-feature"><h3>create-feature</h3><div class="usage"><code>(create-feature)</code></div><div class="doc"><div class="markdown"><p>Creates a new feature in the feature tree that is assumed to have the default values defined in <a href="kernel.core.feature-model.html">kernel.core.feature-model</a>. Newly created features are not part of the feature tree until explicitly inserted.</p></div></div><div class="src-link"><a href="https://github.com/ekuiter/variED/blob/0baab0028676199f7fa6a91debb1b6d35e21c6e5/kernel/src/kernel/core/primitive_operation.cljc#L80">view source</a></div></div><div class="public anchor" id="var-description"><h3>description</h3><div class="usage"><code>(description &amp; value)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/ekuiter/variED/blob/0baab0028676199f7fa6a91debb1b6d35e21c6e5/kernel/src/kernel/core/primitive_operation.cljc#L154">view source</a></div></div><div class="public anchor" id="var-description.3F"><h3>description?</h3><div class="usage"><code>(description? PO)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/ekuiter/variED/blob/0baab0028676199f7fa6a91debb1b6d35e21c6e5/kernel/src/kernel/core/primitive_operation.cljc#L160">view source</a></div></div><div class="public anchor" id="var-get-attribute"><h3>get-attribute</h3><div class="usage"><code>(get-attribute PO)</code></div><div class="doc"><div class="markdown"><p>Returns the attribute of a feature that an update PO targets.</p></div></div><div class="src-link"><a href="https://github.com/ekuiter/variED/blob/0baab0028676199f7fa6a91debb1b6d35e21c6e5/kernel/src/kernel/core/primitive_operation.cljc#L24">view source</a></div></div><div class="public anchor" id="var-get-constraint-attribute"><h3>get-constraint-attribute</h3><div class="usage"><code>(get-constraint-attribute FM ID attribute)</code></div><div class="doc"><div class="markdown"><p>Returns the current value of a targeted constraint attribute in a given feature model.</p></div></div><div class="src-link"><a href="https://github.com/ekuiter/variED/blob/0baab0028676199f7fa6a91debb1b6d35e21c6e5/kernel/src/kernel/core/primitive_operation.cljc#L58">view source</a></div></div><div class="public anchor" id="var-get-feature-attribute"><h3>get-feature-attribute</h3><div class="usage"><code>(get-feature-attribute FM ID attribute)</code></div><div class="doc"><div class="markdown"><p>Returns the current value of a targeted feature attribute in a given feature model.</p></div></div><div class="src-link"><a href="https://github.com/ekuiter/variED/blob/0baab0028676199f7fa6a91debb1b6d35e21c6e5/kernel/src/kernel/core/primitive_operation.cljc#L49">view source</a></div></div><div class="public anchor" id="var-get-ID"><h3>get-ID</h3><div class="usage"><code>(get-ID PO)</code></div><div class="doc"><div class="markdown"><p>Returns the identifier in the feature model that an update PO targets.</p></div></div><div class="src-link"><a href="https://github.com/ekuiter/variED/blob/0baab0028676199f7fa6a91debb1b6d35e21c6e5/kernel/src/kernel/core/primitive_operation.cljc#L19">view source</a></div></div><div class="public anchor" id="var-get-key"><h3>get-key</h3><div class="usage"><code>(get-key PO)</code></div><div class="doc"><div class="markdown"><p>Returns the key of a metadata PO.</p></div></div><div class="src-link"><a href="https://github.com/ekuiter/variED/blob/0baab0028676199f7fa6a91debb1b6d35e21c6e5/kernel/src/kernel/core/primitive_operation.cljc#L39">view source</a></div></div><div class="public anchor" id="var-get-new-value"><h3>get-new-value</h3><div class="usage"><code>(get-new-value PO)</code></div><div class="doc"><div class="markdown"><p>Returns the new value of a feature attribute that an update PO targets.</p></div></div><div class="src-link"><a href="https://github.com/ekuiter/variED/blob/0baab0028676199f7fa6a91debb1b6d35e21c6e5/kernel/src/kernel/core/primitive_operation.cljc#L34">view source</a></div></div><div class="public anchor" id="var-get-old-value"><h3>get-old-value</h3><div class="usage"><code>(get-old-value PO)</code></div><div class="doc"><div class="markdown"><p>Returns the old value of a feature attribute that an update PO targets.</p></div></div><div class="src-link"><a href="https://github.com/ekuiter/variED/blob/0baab0028676199f7fa6a91debb1b6d35e21c6e5/kernel/src/kernel/core/primitive_operation.cljc#L29">view source</a></div></div><div class="public anchor" id="var-get-type"><h3>get-type</h3><div class="usage"><code>(get-type PO)</code></div><div class="doc"><div class="markdown"><p>Returns the type of a primitive operation.</p></div></div><div class="src-link"><a href="https://github.com/ekuiter/variED/blob/0baab0028676199f7fa6a91debb1b6d35e21c6e5/kernel/src/kernel/core/primitive_operation.cljc#L14">view source</a></div></div><div class="public anchor" id="var-get-value"><h3>get-value</h3><div class="usage"><code>(get-value PO)</code></div><div class="doc"><div class="markdown"><p>Returns the key of a metadata PO.</p></div></div><div class="src-link"><a href="https://github.com/ekuiter/variED/blob/0baab0028676199f7fa6a91debb1b6d35e21c6e5/kernel/src/kernel/core/primitive_operation.cljc#L44">view source</a></div></div><div class="public anchor" id="var-icon"><h3>icon</h3><div class="usage"><code>(icon icon)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/ekuiter/variED/blob/0baab0028676199f7fa6a91debb1b6d35e21c6e5/kernel/src/kernel/core/primitive_operation.cljc#L157">view source</a></div></div><div class="public anchor" id="var-icon.3F"><h3>icon?</h3><div class="usage"><code>(icon? PO)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/ekuiter/variED/blob/0baab0028676199f7fa6a91debb1b6d35e21c6e5/kernel/src/kernel/core/primitive_operation.cljc#L163">view source</a></div></div><div class="public anchor" id="var-invert"><h3>invert</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Generates an inverse for a primitive operation. An inverse nullifies the original operation’s execution effect. Inverting an inverse yields the original operation.</p>
<p>Create operations do not visibly affect the feature model, they only add an entry to the feature tree/constraint map. As such, inverting a create operation does not do anything and can be a nop.</p>
<p>Update operations are inverted by swapping their old and new values.</p>
<p>Assert operations are kept unchanged as discussed in <a href="kernel.core.compound-operation.html#var-remove-feature">kernel.core.compound-operation/remove-feature</a>.</p></div></div><div class="src-link"><a href="https://github.com/ekuiter/variED/blob/0baab0028676199f7fa6a91debb1b6d35e21c6e5/kernel/src/kernel/core/primitive_operation.cljc#L168">view source</a></div></div><div class="public anchor" id="var-inverted"><h3>inverted</h3><div class="usage"><code>(inverted)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/ekuiter/variED/blob/0baab0028676199f7fa6a91debb1b6d35e21c6e5/kernel/src/kernel/core/primitive_operation.cljc#L151">view source</a></div></div><div class="public anchor" id="var-metadata"><h3>metadata</h3><div class="usage"><code>(metadata key &amp; value)</code></div><div class="doc"><div class="markdown"><p>Adds metadata, such as a human-readable description, to a compound operation. Has no execution effect and does not affect conflict detection. All of these are only used for UI purposes.</p>
<p>Currently supported keys: - :inverted signifies whether an operation has been inverted - :description is a human-readable description of a CO - :icon is an (Office UI Fabric) icon associated with this CO</p></div></div><div class="src-link"><a href="https://github.com/ekuiter/variED/blob/0baab0028676199f7fa6a91debb1b6d35e21c6e5/kernel/src/kernel/core/primitive_operation.cljc#L135">view source</a></div></div><div class="public anchor" id="var-nop"><h3>nop</h3><div class="usage"><code>(nop)</code></div><div class="doc"><div class="markdown"><p>An operation that does nothing. Is filtered out when building a compound operation. Useful for nullifying the effect of an operation when inverting it.</p></div></div><div class="src-link"><a href="https://github.com/ekuiter/variED/blob/0baab0028676199f7fa6a91debb1b6d35e21c6e5/kernel/src/kernel/core/primitive_operation.cljc#L67">view source</a></div></div><div class="public anchor" id="var-remove-nop"><h3>remove-nop</h3><div class="usage"><code>(remove-nop POs)</code></div><div class="doc"><div class="markdown"><p>Removes all nop operations from a sequence of primitive operations.</p></div></div><div class="src-link"><a href="https://github.com/ekuiter/variED/blob/0baab0028676199f7fa6a91debb1b6d35e21c6e5/kernel/src/kernel/core/primitive_operation.cljc#L75">view source</a></div></div><div class="public anchor" id="var-update-constraint"><h3>update-constraint</h3><div class="usage"><code>(update-constraint ID attribute old-value new-value)</code></div><div class="doc"><div class="markdown"><p>Updates a single attribute of a constraint. For conflict detection and undo/redo, it is also necessary to store an attribute’s old value for every update.</p></div></div><div class="src-link"><a href="https://github.com/ekuiter/variED/blob/0baab0028676199f7fa6a91debb1b6d35e21c6e5/kernel/src/kernel/core/primitive_operation.cljc#L112">view source</a></div></div><div class="public anchor" id="var-update-feature"><h3>update-feature</h3><div class="usage"><code>(update-feature ID attribute old-value new-value)</code></div><div class="doc"><div class="markdown"><p>Updates a single attribute of a feature. For conflict detection and undo/redo, it is also necessary to store an attribute’s old value for every update.</p></div></div><div class="src-link"><a href="https://github.com/ekuiter/variED/blob/0baab0028676199f7fa6a91debb1b6d35e21c6e5/kernel/src/kernel/core/primitive_operation.cljc#L91">view source</a></div></div></div></body></html>