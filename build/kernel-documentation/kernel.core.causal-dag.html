<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>kernel.core.causal-dag documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Kernel</span> <span class="project-version">SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>kernel</span></div></div></li><li class="depth-2 branch"><a href="kernel.api.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>api</span></div></a></li><li class="depth-2"><a href="kernel.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-3 branch current"><a href="kernel.core.causal-dag.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>causal-dag</span></div></a></li><li class="depth-3 branch"><a href="kernel.core.compound-operation.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>compound-operation</span></div></a></li><li class="depth-3 branch"><a href="kernel.core.conflict-cache.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>conflict-cache</span></div></a></li><li class="depth-3 branch"><a href="kernel.core.conflict-relation.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>conflict-relation</span></div></a></li><li class="depth-3 branch"><a href="kernel.core.conflict-resolution.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>conflict-resolution</span></div></a></li><li class="depth-3 branch"><a href="kernel.core.feature-model.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>feature-model</span></div></a></li><li class="depth-3 branch"><a href="kernel.core.garbage-collector.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>garbage-collector</span></div></a></li><li class="depth-3 branch"><a href="kernel.core.history-buffer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>history-buffer</span></div></a></li><li class="depth-3 branch"><a href="kernel.core.message.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>message</span></div></a></li><li class="depth-3 branch"><a href="kernel.core.movic.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>movic</span></div></a></li><li class="depth-3 branch"><a href="kernel.core.primitive-operation.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>primitive-operation</span></div></a></li><li class="depth-3 branch"><a href="kernel.core.topological-sort.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>topological-sort</span></div></a></li><li class="depth-3"><a href="kernel.core.vector-clock.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>vector-clock</span></div></a></li><li class="depth-2 branch"><a href="kernel.helpers.html"><div class="inner"><span class="tree" style="top: -424px;"><span class="top" style="height: 433px;"></span><span class="bottom"></span></span><span>helpers</span></div></a></li><li class="depth-2 branch"><a href="kernel.i18n.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>i18n</span></div></a></li><li class="depth-2"><a href="kernel.shell.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>shell</span></div></a></li><li class="depth-3 branch"><a href="kernel.shell.client.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>client</span></div></a></li><li class="depth-3 branch"><a href="kernel.shell.context.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>context</span></div></a></li><li class="depth-3 branch"><a href="kernel.shell.server.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>server</span></div></a></li><li class="depth-3"><a href="kernel.shell.site.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>site</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="kernel.core.causal-dag.html#var-_remove"><div class="inner"><span>_remove</span></div></a></li><li class="depth-1"><a href="kernel.core.causal-dag.html#var-get-CIP"><div class="inner"><span>get-CIP</span></div></a></li><li class="depth-1"><a href="kernel.core.causal-dag.html#var-get-CO-IDs"><div class="inner"><span>get-CO-IDs</span></div></a></li><li class="depth-1"><a href="kernel.core.causal-dag.html#var-get-CP"><div class="inner"><span>get-CP</span></div></a></li><li class="depth-1"><a href="kernel.core.causal-dag.html#var-initialize"><div class="inner"><span>initialize</span></div></a></li><li class="depth-1"><a href="kernel.core.causal-dag.html#var-insert"><div class="inner"><span>insert</span></div></a></li><li class="depth-1"><a href="kernel.core.causal-dag.html#var-remove-all-occurrences"><div class="inner"><span>remove-all-occurrences</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">kernel.core.causal-dag</h1><div class="doc"><div class="markdown"><p>Causal Directed Acyclic Graph, CDAG for short. The CDAG captures compound operations’ dependencies.</p>
<p>Nodes in the CDAG are operations. Two operations A and B are connected if and only if <code>(preceding? A B)</code> with <a href="kernel.core.compound-operation.html#var-preceding.3F">kernel.core.compound-operation/preceding?</a>.</p>
<p>The CDAG is required to obtain all causally preceding operations (CP) efficiently for a given operation. Further, it is used to obtain all causally immediate preceding operations (CIP).</p>
<p>The CP can easily be computed by determining causally-preceding relationships. The CIP corresponds to a transitive reduction of the CDAG and can thus be obtained from the CP by removing all transitive edges. (See minimum equivalent graph / maximal elements of CP.)</p>
<p>The CP is unique across all sites as all operations causally preceding an operation always arrive before said operation (guaranteed by TCP). For finite DAGs as the CDAG the transitive reduction is unique, therefore the CIP is also unique across all sites.</p>
<p>The CDAG is implemented by mapping compound operations to their respective CPs and CIPs, allowing O(1) access.</p>
<p>If no garbage collection is performed, the CDAG might grow quadratically with time.</p></div></div><div class="public anchor" id="var-_remove"><h3>_remove</h3><div class="usage"><code>(_remove CDAG CO-ID)</code></div><div class="doc"><div class="markdown"><p>Removes an operation from the CDAG in O(n). Removes the operation’s CP and CIP. Also removes the operation from all other operations’ CPs and CIPs.</p></div></div><div class="src-link"><a href="https://github.com/ekuiter/variED/blob/c489a2ee2a66dc4a4c521479241a8d5144fba358/kernel/src/kernel/core/causal_dag.cljc#L82">view source</a></div></div><div class="public anchor" id="var-get-CIP"><h3>get-CIP</h3><div class="usage"><code>(get-CIP CDAG CO-ID)</code></div><div class="doc"><div class="markdown"><p>Returns a set of all causally immediately preceding operations for a compound operation in O(1). This excludes transitive edges.</p></div></div><div class="src-link"><a href="https://github.com/ekuiter/variED/blob/c489a2ee2a66dc4a4c521479241a8d5144fba358/kernel/src/kernel/core/causal_dag.cljc#L52">view source</a></div></div><div class="public anchor" id="var-get-CO-IDs"><h3>get-CO-IDs</h3><div class="usage"><code>(get-CO-IDs CDAG)</code></div><div class="doc"><div class="markdown"><p>Returns a sequence of all compound operation identifiers contained in the CDAG.</p></div></div><div class="src-link"><a href="https://github.com/ekuiter/variED/blob/c489a2ee2a66dc4a4c521479241a8d5144fba358/kernel/src/kernel/core/causal_dag.cljc#L41">view source</a></div></div><div class="public anchor" id="var-get-CP"><h3>get-CP</h3><div class="usage"><code>(get-CP CDAG CO-ID)</code></div><div class="doc"><div class="markdown"><p>Returns a set of all causally preceding operations for a compound operation in O(1). This includes transitive edges.</p></div></div><div class="src-link"><a href="https://github.com/ekuiter/variED/blob/c489a2ee2a66dc4a4c521479241a8d5144fba358/kernel/src/kernel/core/causal_dag.cljc#L46">view source</a></div></div><div class="public anchor" id="var-initialize"><h3>initialize</h3><div class="usage"><code>(initialize)</code></div><div class="doc"><div class="markdown"><p>Initializes a new CDAG without any operations.</p></div></div><div class="src-link"><a href="https://github.com/ekuiter/variED/blob/c489a2ee2a66dc4a4c521479241a8d5144fba358/kernel/src/kernel/core/causal_dag.cljc#L33">view source</a></div></div><div class="public anchor" id="var-insert"><h3>insert</h3><div class="usage"><code>(insert CDAG HB CO)</code></div><div class="doc"><div class="markdown"><p>Inserts a newly received operation into the CDAG. Calculates the CP by scanning all previously received operations in O(n). Calculates the CIP by filtering the CP and removing any operations that are succeeded by any other operation in the CP, yielding the maximum elements of the CP or the transitive reduction.</p></div></div><div class="src-link"><a href="https://github.com/ekuiter/variED/blob/c489a2ee2a66dc4a4c521479241a8d5144fba358/kernel/src/kernel/core/causal_dag.cljc#L60">view source</a></div></div><div class="public anchor" id="var-remove-all-occurrences"><h3>remove-all-occurrences</h3><div class="usage"><code>(remove-all-occurrences m val)</code></div><div class="doc"><div class="markdown"><p>Removes all occurrences of a value from all sets that m maps to.</p></div></div><div class="src-link"><a href="https://github.com/ekuiter/variED/blob/c489a2ee2a66dc4a4c521479241a8d5144fba358/kernel/src/kernel/core/causal_dag.cljc#L77">view source</a></div></div></div></body></html>